
include_directories(${I2C_DIR}/include)
include_directories(${EEPROM_DIR}/include)
include_directories(${L595_DIR}/include)
include_directories(${SD_DIR})
# link_directories(${I2C_DIR}/lib)
# link_directories(${EEPROM_DIR}/lib)

add_avr_executable(MemoryController main.cpp)
# add_avr_executable(MemoryController main.asm)
add_avr_library(i2c ${I2C_DIR}/src/i2c.c ${I2C_DIR}/src/i2cext.c)
add_avr_library(eeprom ${EEPROM_DIR}/src/eeprom.c)
add_avr_library(595_driver ${L595_DIR}/src/595_driver.c)
# add_avr_library(lSD ${SD_DIR}/SD.cpp ${SD_DIR}/SD.cpp ${SD_DIR}/SdVolume.cpp ${SD_DIR}/SdFile.cpp ${SD_DIR}/Sd2Card.cpp)
# avr_target_link_libraries(MemoryController entry)
avr_target_link_libraries(MemoryController eeprom i2c 595_driver lSD)
# avr_target_link_libraries(MemoryController ext_eeprom_mem io_mem io_uart ports)
